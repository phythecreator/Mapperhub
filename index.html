<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MapCraft - Real Maps Editor</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
<style>
  #map-container {
    width: 100%;
    height: 600px;
    border: 2px solid #444;
    overflow: auto;
    position: relative;
    cursor: grab;
    background: white;
  }
  #map-container:active {
    cursor: grabbing;
  }
  #legend-list {
    max-height: 150px;
    overflow-y: auto;
  }
  svg path {
    stroke: #333;
    stroke-width: 0.5;
    cursor: pointer;
    transition: stroke-width 0.2s;
  }
  svg path.selected {
    stroke-width: 2.5;
    stroke: #ff0000;
  }
  #paletteContainer button {
    cursor: pointer;
    transition: transform 0.15s ease;
  }
  #paletteContainer button:hover {
    transform: scale(1.15);
  }
  #emojiContainer img {
    width: 32px;
    height: 32px;
    margin: 3px;
    cursor: pointer;
    border-radius: 4px;
    border: 2px solid transparent;
    transition: border-color 0.3s ease;
  }
  #emojiContainer img.selected {
    border-color: #facc15; /* yellow-400 */
  }
</style>
</head>
<body class="bg-gray-900 text-white flex flex-col min-h-screen">
<header class="p-4 bg-gray-800 flex justify-between items-center">
  <h1 class="text-2xl font-bold">MapCraft Real Maps</h1>
  <div>
    <span id="pointsDisplay" class="mr-4 text-yellow-400 font-semibold"></span>
    <button onclick="location.href='login.html'" class="bg-blue-600 px-3 py-1 rounded">Login</button>
  </div>
</header>

<main class="flex flex-col md:flex-row flex-grow p-4 gap-6">
  <section class="flex flex-col gap-4 md:w-1/3">
    <label for="mapSelect" class="block mb-1">Choose Map:</label>
    <select id="mapSelect" class="p-2 rounded text-black w-full">
      <option value="world">World</option>
      <option value="europe">Europe</option>
      <option value="africa">Africa</option>
      <option value="south-america">South America</option>
      <option value="north-america">North America</option>
      <option value="central-america">Central America</option>
      <option value="asia">Asia</option>
      <option value="oceania">Oceania</option>
      <option value="historical-ww2">Historical: WWII Europe</option>
      <option value="historical-roman-empire">Historical: Roman Empire</option>
    </select>

    <div class="mt-4">
      <label for="colorPicker" class="block mb-1">Select Color:</label>
      <input type="color" id="colorPicker" value="#ff0000" class="w-16 h-10 rounded" />
    </div>

    <div id="paletteContainer" class="flex flex-wrap mt-2"></div>

    <button id="resetColors" class="bg-red-600 py-2 rounded hover:bg-red-700 mt-4 w-full">Reset Colors</button>

    <hr class="my-4 border-gray-600" />

    <div>
      <h2 class="font-semibold mb-2">Legend</h2>
      <div class="flex gap-2 mb-2">
        <input type="text" id="legendText" placeholder="Legend text" class="flex-grow p-2 rounded text-black" />
        <input type="color" id="legendColor" value="#ff0000" class="w-12 h-10 rounded" />
        <button id="addLegend" class="bg-green-600 px-3 rounded">Add</button>
      </div>
      <ul id="legend-list" class="list-disc list-inside text-black bg-white p-2 rounded max-h-36 overflow-auto"></ul>
    </div>

    <hr class="my-4 border-gray-600" />

    <div>
      <h2 class="font-semibold mb-2">Add Emoji to Selected Country:</h2>
      <div id="emojiContainer" class="flex flex-wrap"></div>
      <button id="removeEmojiBtn" class="bg-red-600 py-1 px-3 rounded mt-2">Remove Emoji</button>
    </div>

    <hr class="my-4 border-gray-600" />

    <div class="flex gap-2">
      <button id="saveMap" class="bg-blue-600 px-4 py-2 rounded hover:bg-blue-700 flex-grow">Save Map</button>
      <button id="loadMap" class="bg-yellow-600 px-4 py-2 rounded hover:bg-yellow-700 flex-grow">Load Map</button>
    </div>

    <hr class="my-4 border-gray-600" />

    <button id="exportBtn" class="bg-green-600 px-4 py-2 rounded hover:bg-green-700 w-full">Export Map</button>

    <hr class="my-4 border-gray-600" />

    <div>
      <h2 class="text-xl font-bold mb-2">ðŸ”“ Premium Unlockables:</h2>
      <ul class="list-disc list-inside text-green-400">
        <li>Export in HD and SVG</li>
        <li>Access to exclusive historical maps</li>
        <li>More colors in the palette (non-essential)</li>
        <li>Special emoji faces</li>
      </ul>
      <h2 class="text-xl font-bold mb-2 mt-6">ðŸ†“ Free Features:</h2>
      <ul class="list-disc list-inside text-yellow-400">
        <li>Export as JPG (standard quality)</li>
        <li>All essential colors unlocked</li>
        <li>Basic emoji faces (happy, sad, neutral, very happy)</li>
        <li>Access to multiple map styles</li>
      </ul>
    </div>
  </section>

  <section id="map-container" class="md:w-2/3 rounded overflow-auto relative bg-white" aria-label="Map container">
    <!-- SVG loaded here -->
  </section>
</main>

<script src="js/missions.js" defer></script>
<script src="js/editor.js" defer></script>
</body>
</html>
